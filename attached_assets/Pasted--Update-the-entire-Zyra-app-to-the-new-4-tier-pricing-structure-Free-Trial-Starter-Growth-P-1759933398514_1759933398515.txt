
Update the entire Zyra app to the **new 4-tier pricing structure** (Free Trial, Starter, Growth, Pro).
Apply updates across:

* Database (Supabase / Firestore)
* API constants & endpoints
* UI (pricing page, settings, subscription modal, plan cards)
* Credit consumption logic
* Plan upgrade/downgrade flow
* Feature gating system

---

### ğŸ§© STEP 1 â€” Replace Existing Pricing Data

**Collection/Table:** `plans`
**Action:** Replace old records with new data below (use same schema or extend fields).

```json
[
  {
    "id": "plan_free_7day_001",
    "name": "7-Day Free Trial",
    "price": 0,
    "duration": "7 days",
    "credits": 100,
    "target_user": "New users exploring Zyra features",
    "features": {
      "Product Optimization & SEO": [
        "Optimized Products â€“ 20 credits",
        "SEO Keyword Density Analysis â€“ 10 credits"
      ],
      "Conversion Boosting & Sales Automation": [
        "AI-Powered Growth Intelligence â€“ 20 credits",
        "Basic A/B Testing â€“ 10 credits"
      ],
      "Content & Branding at Scale": [
        "Smart Product Descriptions â€“ 20 credits",
        "Limited Dynamic Templates â€“ 10 credits"
      ],
      "Performance Tracking & ROI Insights": [
        "Email Performance Analytics â€“ 10 credits"
      ],
      "Workflow & Integration Tools": [
        "One-Click Shopify Publish â€“ 10 credits",
        "Rollback Button â€“ included"
      ]
    }
  },
  {
    "id": "plan_starter_002",
    "name": "Starter",
    "price": 49,
    "duration": "1 month",
    "credits": 1000,
    "target_user": "Best for new Shopify stores just getting started",
    "features": {
      "Product Optimization & SEO": [
        "Optimized Products â€“ 200 credits",
        "SEO Keyword Density Analysis â€“ 100 credits",
        "AI Image Alt-Text Generator â€“ 100 credits",
        "Smart SEO Titles & Meta Tags â€“ 100 credits"
      ],
      "Conversion Boosting & Sales Automation": [
        "AI-Powered Growth Intelligence â€“ 150 credits",
        "A/B Testing â€“ 50 credits",
        "Upsell Email Receipts â€“ 100 credits",
        "Abandoned Cart SMS â€“ 50 credits"
      ],
      "Content & Branding at Scale": [
        "Smart Product Descriptions â€“ 100 credits",
        "Dynamic Templates â€“ 50 credits",
        "Brand Voice Memory â€“ included"
      ],
      "Performance Tracking & ROI Insights": [
        "Email & SMS Conversion Analytics â€“ included"
      ],
      "Workflow & Integration Tools": [
        "CSV Import/Export â€“ included",
        "One-Click Shopify Publish â€“ included",
        "Rollback Button â€“ included",
        "Smart Bulk Suggestions â€“ included"
      ]
    }
  },
  {
    "id": "plan_growth_003",
    "name": "Growth",
    "price": 299,
    "duration": "1 month",
    "credits": 5000,
    "target_user": "For scaling merchants ready to grow",
    "features": {
      "Product Optimization & SEO": [
        "All Starter features +",
        "SEO Ranking Tracker â€“ 200 credits",
        "Bulk Optimization & Smart Bulk Suggestions â€“ 500 credits",
        "Scheduled Refresh for Content & SEO Updates â€“ 300 credits"
      ],
      "Conversion Boosting & Sales Automation": [
        "AI Upsell Suggestions & Triggers â€“ 300 credits",
        "Dynamic Segmentation of Customers â€“ 200 credits",
        "Behavioral Targeting â€“ 200 credits",
        "Full A/B Test Results Dashboard â€“ included"
      ],
      "Content & Branding at Scale": [
        "Custom Templates â€“ included",
        "Multimodal AI (text + image + insights) â€“ 300 credits",
        "Multi-Channel Content Repurposing â€“ 300 credits"
      ],
      "Performance Tracking & ROI Insights": [
        "Full Email & SMS Tracking â€“ included",
        "Content ROI Tracking â€“ included",
        "Revenue Impact Attribution â€“ included",
        "Product Management Dashboard â€“ included"
      ],
      "Workflow & Integration Tools": [
        "Unlimited Starter workflow tools â€“ included"
      ]
    }
  },
  {
    "id": "plan_pro_004",
    "name": "Pro",
    "price": 999,
    "duration": "1 month",
    "credits": 20000,
    "target_user": "For high-revenue brands & enterprises",
    "features": {
      "Product Optimization & SEO": [
        "All Growth features + priority processing"
      ],
      "Conversion Boosting & Sales Automation": [
        "Full AI-driven automation for campaigns, upsells, and behavioral targeting"
      ],
      "Content & Branding at Scale": [
        "Full template library",
        "Advanced brand voice memory",
        "Multimodal AI insights",
        "Multi-channel automation"
      ],
      "Performance Tracking & ROI Insights": [
        "Enterprise-grade analytics",
        "Revenue attribution dashboard"
      ],
      "Workflow & Integration Tools": [
        "Enterprise bulk management",
        "CSV import/export",
        "Rollback",
        "Smart bulk suggestions at scale"
      ]
    }
  }
]
```

---

### ğŸ§  STEP 2 â€” Update Global Constants

**File:** `/lib/constants/plans.ts`
**Action:** Replace existing constants with:

```ts
export const ZYRA_PLANS = {
  FREE: "plan_free_7day_001",
  STARTER: "plan_starter_002",
  GROWTH: "plan_growth_003",
  PRO: "plan_pro_004",
};

export const CREDIT_LIMITS = {
  [ZYRA_PLANS.FREE]: 100,
  [ZYRA_PLANS.STARTER]: 1000,
  [ZYRA_PLANS.GROWTH]: 5000,
  [ZYRA_PLANS.PRO]: 20000,
};
```

---

### ğŸ¨ STEP 3 â€” Update UI Pricing Page

**Components to update:**

* `/components/pricing/PlanCard.tsx`
* `/components/pricing/PricingGrid.tsx`
* `/app/settings/subscription/page.tsx`

**Prompt for Cursor AI:**

> Refactor pricing UI to display new plan data dynamically from Supabase `plans` table using plan ID constants. Add credit badges, target description, and feature list with icons. Highlight active plan with gradient border (Neon Azure â†’ Cyber Cyan). CTA button text: â€œActivate Planâ€ or â€œUpgradeâ€.

---

### âš™ï¸ STEP 4 â€” Credit Logic Update

**File:** `/lib/credits/useCredits.ts`
**Action:**

> Update credit consumption to deduct based on feature type and plan. Use feature-credit mapping from database. Add fail-safe check for available credits before executing AI feature.

---

### ğŸ”’ STEP 5 â€” Feature Gating Update

**File:** `/lib/permissions/planFeatures.ts`
**Prompt for AI Dev:**

> Map features to plan IDs. Restrict advanced automation (AI Upsell, Multimodal AI, Behavioral Targeting) to Growth & Pro plans. Unlock Brand Voice Memory and Analytics tools for Starter and above.

---

### ğŸ“¦ STEP 6 â€” API & Supabase Sync

* **Supabase Table:** `user_subscriptions`

  * `plan_id` â†’ FK referencing `plans.id`
  * `credits_used` â†’ track monthly usage
  * `renewal_date` â†’ auto-update monthly

* **API Endpoint:** `/api/upgrade-plan`

  * Validate Stripe/Shopify subscription
  * Update `user_subscriptions.plan_id`
  * Reset monthly credits

---



> â€œUpdate Zyraâ€™s entire pricing system (UI + backend + constants + credits logic + Supabase schema) using the new plans JSON above. Replace all old plan references with new plan IDs. Verify dynamic rendering on pricing, billing, and dashboard pages. Ensure credit deduction aligns with the new feature-credit mapping.â€

---

### ğŸ’¡ Notes

* Use color palette: `#00F0FF` (Neon Azure) + `#00FFE5` (Cyber Cyan)
* CTA buttons: â€œStart Free Trialâ€, â€œUpgrade to Starterâ€, â€œScale with Growthâ€, â€œPower Up with Proâ€
* Plan icons: use `lucide-react` icons (`Rocket`, `BarChart`, `Zap`, `Crown`)

---

**Result:**
After applying this prompt, Zyraâ€™s pricing, credit, and feature management system will be fully updated, synchronized, and production-ready.